import{b as L,R as e,u as f,g as i}from"./vendor.7b712f9f.js";import{L as A,c as _,D as w,F as p}from"./GeneralCondition.59d0a2ff.js";import{e as C,O as b,P as F,s as O,c as P,v as q,t as x}from"./main.da775b16.js";import{B as k}from"./BtnActions.ab9308ff.js";const D=t=>{const a=L(),[l,n]=e.useState(!1),r=f(d=>d),o=r,[v,N]=e.useState(!1),E=d=>{d.preventDefault();var y=t.user.requested_love_by_viewer;if(y===!0&&!t.user.has_requested_love_viewer)var m="UNLOVE";else if(y===!1&&!t.user.has_requested_love_viewer)var m="LOVE";else if(t.user.has_requested_love_viewer)var m="CONFIRM_CRUSH";a(b(t.user.user_id)),a(F(t.user.user_id));var c=new FormData;c.append("action",m),c.append("url","RESTAPI/Users/Like"),c.append("liked_id",t.user.user_id),p("./api",c,s=>{if(a(O(s)),setTimeout(()=>{a(P())},1e3),s.success===1&&s.type==="ACCEPTED"){let u={data_type:"message_text",client_id:t.user.user_id,msg:"new contacts",c_user:i.get("s_id"),security_token:i.get("isLogedin"),media:0,type:"NEW_CONTACT"},h={data_type:"message_text",client_id:i.get("s_id"),msg:"nouveau contacts",session_id:i.get("s_id"),c_user:t.user.user_id,security_token:i.get("isLogedin"),media:0,type:"NEW_CONTACT"};o.ws&&(o.ws.send(JSON.stringify(h)),o.ws.send(JSON.stringify(u)))}else if(s.success===1&&s.payload&&s.payload.type==="LOVE"||s.payload.type==="UNLOVE"||s.payload.type==="ACCEPT"){let u={data_type:"notifications",sub_type:"NEW_MATCH_REQUEST",c_user:r.Util.c_user.user_id,security_token:i.get("isLogedin"),client_id:parseInt(t.user.user_id),payload:{count:s.payload.count,type:s.payload.type,user:r.Util.min_user_content}};r.Util.ws.send(JSON.stringify(u)),s.success===1&&s.payload&&s.payload.type==="ACCEPT"&&(a(q({user_id:t.user.user_id,name:"has_match_with_viewer"})),a(x(t.user)))}})},g=()=>{N(!v),n(!1)};return e.createElement(e.Fragment,null,t.type==="link"?e.createElement(e.Fragment,null,l&&e.createElement(C,{show:l,titre:"R\xE9pondre",onHide:()=>n(!1),size:"sm"},e.createElement("div",{className:"Fdo Anv RpE"},v&&e.createElement("div",{className:"cover-action hty ELG ApE Fdo"},e.createElement(A,null)),e.createElement("div",{className:"Fdo Anv Aic v2ao"},e.createElement("div",{className:"DivroundListAvatar"},e.createElement("div",{className:"roundListAvatarcontent"},e.createElement("div",{className:"ListavatarContent",style:{height:56,width:56,order:2,cursor:"pointer"}},e.createElement("span",{className:"_aa8h",style:{height:56,width:56}},e.createElement("img",{src:t.user.avatar,className:"hty ELG hrt lazyload"}))),e.createElement("div",{className:"ListavatarContent",style:{height:56,width:56,order:1,cursor:"pointer",marginRight:"-12px"}},e.createElement("span",{className:"_aa8h",style:{height:56,width:56}},e.createElement("img",{className:"_aa8j",src:r.Util.c_user.avatar.x56}))))),e.createElement("div",{className:"e2ler"},t.user.first_name),e.createElement("span",{className:"Vpe"},"est interess\xE9 par votre profile"),e.createElement("div",{className:"sqdOP "},"Accepter si  son profile vous interesse")),e.createElement("div",{className:"Fdo Kmm Vnk"},e.createElement(k,{disableLink:g,e:t.user})))),t.user.has_requested_love_viewer?e.createElement("button",{className:"sqdOP Xdg L3NKy ZIAjV Bsj _2bDo",onClick:()=>n({modal:!0})},e.createElement("div",{className:"Fdo"},e.createElement("span",{className:"Fdo Aic"},e.createElement(_,{size:18})),e.createElement("span",{className:"Fdo LmP"},"R\xE9pondre"))):e.createElement("button",{onClick:E,className:`sqdOP Xdg L3NKy ZIAjV Bsj ${t.user.requested_love_by_viewer?"_2bDo":"Lbg"}`},e.createElement("div",{className:"Fdo"},e.createElement("span",{className:"Fdo Aic"},e.createElement(_,{size:18})),e.createElement("span",{className:"Fdo LmP"},t.user.requested_love_by_viewer?"envoy\xE9e":"Soliciter")))):e.createElement("div",{className:"LmP p1c"},e.createElement("button",{className:`Fdo sqdOP L4fx ZIAjV Fbd BjN AC4 ${t.user.requested_love_by_viewer?"hbc":""}`,onClick:E},t.user.requested_love_by_viewer?e.createElement(_,{size:24}):e.createElement(w,{size:24}))))};function R({variant:t="",onClick:a,disabled:l,children:n,type:r}){return e.createElement("button",{type:r,className:"sqdOP Xdg L3NKy ZIAjV "+t,disabled:l,onClick:a},n)}export{R as B,D as L};
