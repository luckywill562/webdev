import{_ as N,Q as _}from"./main.da775b16.js";import{R as e,r as g,b as y,u as f,S as h,g as c}from"./vendor.7b712f9f.js";import{w as L,q as w}from"./GeneralCondition.59d0a2ff.js";function I({children:r}){return e.createElement("div",{className:"page  qF0y9  Igw0E  IwRSH   eGOV_    _4EzTm pIc"},e.createElement("div",{className:"page L3NKy Ngt"},e.createElement("div",{className:"Fdo qF0y9   Igw0E   rBNOH  eGOV_   ybXk5    _4EzTm Lsy LDv"},e.createElement("div",{className:"page _4EzTm ovd yC0tu Vgd"},e.createElement("div",{className:"bBB LCR Fdo Lns Aic",style:{width:"36px",height:"36px"}},r)),e.createElement("div",{className:"messagerie Fdo  Igw0E     IwRSH    YBx95 vwCYk"},e.createElement("div",{className:"_7UhW9  PIoXz       MMzan    _0PwGv              fDxYl     "},"23"),e.createElement("div",{className:"_7UhW9   xLCgt  MMzan   fDxYl  "},e.createElement("div",{className:"R19PB"},e.createElement("div",{className:"_7UhW9   xLCgt KV-D4  Vgd  fDxYl",style:{fontWeight:"600"}},"personnes connect\xE9")))))))}const F=g.exports.lazy(()=>N(()=>import("./MessageForm.03874e01.js"),["MessageForm.03874e01.js","main.da775b16.js","main.5922880b.css","vendor.7b712f9f.js","GeneralCondition.59d0a2ff.js","GeneralCondition.c3442c85.css"])),b=r=>{const[S,l]=e.useState(!1),[i,n]=e.useState(!1),v=y();e.useState({id:void 0,name:void 0});const[o,x]=e.useState(!1),[E,p]=e.useState(0),t=f(a=>a),m=()=>{n(!0),p(E+1);let a={data_type:"message_incognito",sub_type:"search",c_user:c.get("s_id"),security_token:c.get("isLogedin")};t.Util.ws.send(JSON.stringify(a))},d=()=>{l(!1),n(!1);let a={data_type:"message_incognito",sub_type:"stop_message",c_user:c.get("s_id"),security_token:c.get("isLogedin")};t.Util.ws.send(JSON.stringify(a))};return e.useEffect(()=>{t.Util.ws&&t.Util.ws.addEventListener("message",a=>{const s=JSON.parse(a.data);s.message_type==="incognito"?s.payload.find_client&&!s.payload.waiting?(n(!1),l(!0),v(_({user:s.send_vers,messages:[]}))):s.payload.waiting&&s.payload.find_client:s.message_type==="incognito"&&s.sub_type==="stop_message"&&(n(!1),l(!1))})},[t.Util.ws]),e.createElement("div",{className:"Fdo aBv FGM nF1 CenterContainer"},e.createElement("div",{className:"default-container App",style:{maxWidth:540}},e.createElement("div",{className:"Fdo Anv"},e.createElement("div",{className:"post-card "},e.createElement("div",{className:"Fdo Lsy LDv Ert Vpe"},e.createElement("div",{className:"Fdo Aic Bsj"},e.createElement("div",{className:"SH1 tlK SMy Vft Bsj"},"Parler a un inconu"),e.createElement("div",{className:"Fdo"},t.IncognitoMessages.user||i||o?e.createElement("button",{className:"sqdOP Xdg L3NKy ZIAjV Lbg",onClick:d},"Terminer"):e.createElement("button",{className:"sqdOP Xdg L3NKy ZIAjV Lbg",onClick:m},"Commencer"))))),e.createElement("div",{className:"Fdo incognito-messagerie-container sLayout"},e.createElement("div",{className:"container-box messages-wrapper hn33210v"},t.IncognitoMessages.user&&t.IncognitoMessages.messages?e.createElement("div",{className:"messages-text-container"},e.createElement("div",{className:"conversation-container "},e.createElement("div",{className:"Fdo conversation-main"},e.createElement("div",{className:"Fdo Anv Pap"},t.IncognitoMessages.messages.map((a,s)=>e.createElement("div",{className:"Fdo Anv",key:s},e.createElement("div",{className:`Fdo ${a.sended?"bkfpd7mw":"eGOV_"}`},a.medias.length>0&&e.createElement("div",{className:""},a.medias.map((C,u)=>e.createElement("div",{key:u,className:"kb5gq1qc pfnyh3mw hfv  hcukyx3x RpE"},e.createElement("h1",null,"has media")))),e.createElement("div",{className:`Bwt incognito_messege_content ${a.sended?"bBA hgf":"QOqBd"}`,dangerouslySetInnerHTML:{__html:a.msg}})))))),e.createElement("div",{className:"conversation-footer"},e.createElement(g.exports.Suspense,{fallback:"chargement..."},e.createElement(F,{user_id:t.IncognitoMessages.user}))))):e.createElement("div",{className:"Fdo Anv Bsj Lns Aic v4a"},e.createElement("div",{className:"Fdo Anv Aic"},i?e.createElement("span",null,"en attente..."):o?e.createElement("div",{className:"Fdo"},e.createElement(h,{animation:"grow"}),e.createElement("span",null," en attente")):e.createElement("div",null,"trouver une personne au hasard et parler avec elle"),e.createElement("div",{className:""},t.IncognitoMessages.user||i||o?e.createElement("button",{className:"sqdOP Xdg L3NKy ZIAjV Lbg",onClick:d},"Terminer"):e.createElement("button",{className:"sqdOP Xdg L3NKy ZIAjV Lbg",onClick:m},"Commencer")))))))),e.createElement("div",{className:"Fdo p1c"},e.createElement("div",{className:"Fdo  ELG  Pag p1c"},e.createElement(I,null,e.createElement(w,{size:24})))))};var O=L(b);export{O as default};
