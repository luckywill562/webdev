import{R as e,u as U,b as y,L as S}from"./vendor.7b712f9f.js";import{B as L,L as B}from"./button.78058e71.js";import{L as w,aj as b,s as _,u as f,v as h,q as M,aw as D,ax as I,F as C,ay as T,i as P,O as H}from"./GeneralCondition.59d0a2ff.js";import{e as R,R as G,h as z,s as k,S as V,T as O,V as j,W as q,X as W,c as X}from"./main.da775b16.js";import"./BtnActions.ab9308ff.js";const Q=F=>{const[c,o]=e.useState(!1),[E,p]=e.useState(!1),a=U(s=>s),u=y(),N=s=>{s.preventDefault(),o(!0);var m=new FormData;m.append("url","./RESTAPI/Filtre/GetUserFilter"),m.append("max_age",a.Util.Filtre.max_age),m.append("min_age",a.Util.Filtre.min_age),m.append("sex_search",a.Util.Filtre.sex_type),m.append("limit",9),C("/api",m,n=>{var v,t;(n==null?void 0:n.success)===1?(u(G((v=n==null?void 0:n.data)==null?void 0:v.users)),u(z({name:"user_search",value:(t=n==null?void 0:n.data)==null?void 0:t.has_next_page}))):u(k(n)),o(!1),p(!1)})},i=s=>{typeof(s.target.value==="number")&&parseInt(s.target.value)<100&&u(V({name:s.target.name,value:+s.target.value}))},r=s=>{u(O(s))};return e.createElement(e.Fragment,null,e.createElement("div",{className:"Fdo Anv"},e.createElement("div",{className:"page Fdo  Igw0E  IwRSH   eGOV_    _4EzTm Cxfa"},e.createElement(S,{className:"page ElL Ngt",to:"",onClick:()=>p(!0)},e.createElement("div",{className:"Fdo   Igw0E   rBNOH  eGOV_   ybXk5    _4EzTm Lsy LDv ApE",style:{right:30}},e.createElement("div",{className:"page _4EzTm ovd Vgd a1C",style:{bottom:20,zIndex:1}},e.createElement("div",{className:" LCR Fdo Lns Aic Fbd BjN",style:{width:"36px",height:"36px"}},e.createElement("svg",{width:"24",height:"24",className:"sFc tlK",viewBox:"0 0 32 32",fill:"#000000"},e.createElement("g",null,e.createElement("path",{d:"M 27,6L 24,6 c0-1.104-0.896-2-2-2l-2,0 C 18.896,4, 18,4.896, 18,6L 5,6 C 4.448,6, 4,6.448, 4,7C 4,7.552, 4.448,8, 5,8L 18,8 c0,1.104, 0.896,2, 2,2l 2,0 c 1.104,0, 2-0.896, 2-2l 3,0 C 27.552,8, 28,7.552, 28,7C 28,6.448, 27.552,6, 27,6z M 22,8l-2,0 L 20,6 l 2,0 L 22,8 zM 27,14L 14,14 c0-1.104-0.896-2-2-2L 10,12 C 8.896,12, 8,12.896, 8,14L 5,14 C 4.448,14, 4,14.448, 4,15C 4,15.552, 4.448,16, 5,16L 8,16 c0,1.104, 0.896,2, 2,2l 2,0 c 1.104,0, 2-0.896, 2-2l 13,0 C 27.552,16, 28,15.552, 28,15C 28,14.448, 27.552,14, 27,14z M 12,16L 10,16 L 10,14 l 2,0 L 12,16 zM 27,22L 20,22 c0-1.104-0.896-2-2-2L 16,20 c-1.104,0-2,0.896-2,2L 5,22 C 4.448,22, 4,22.448, 4,23 C 4,23.552, 4.448,24, 5,24L 14,24 c0,1.104, 0.896,2, 2,2l 2,0 c 1.104,0, 2-0.896, 2-2l 7,0 c 0.552,0, 1-0.448, 1-1 C 28,22.448, 27.552,22, 27,22z M 18,24L 16,24 l0-2 l 2,0 L 18,24 z"}))))))))),e.createElement(R,{show:E,onHide:()=>c?null:p(!1),titre:"Configurer le Filtre"},c&&e.createElement("div",{className:"backdropLoad"},e.createElement("div",{className:"Fdo Lns hty ELG Aic"},e.createElement("div",{className:"Fdo Anv"},e.createElement(w,null)))),e.createElement("div",{className:"Fdo Aic Anv modal-sm"},a.Util.Filtre.min_age<18||a.Util.Filtre.max_age<18?e.createElement("div",{className:"message_status"},"L'age minimum requise est de 18 ans"):a.Util.Filtre.max_age<a.Util.Filtre.min_age?e.createElement("div",{className:"message_status"},"L'age minimum doit etre plus petit que l'age maximun"):null,e.createElement("form",{method:"POST",className:"Anv ELG",onSubmit:N},e.createElement("div",{className:"Fdo Anv"},e.createElement("div",{className:"filter-range-wrap"},e.createElement("div",{className:"m2F"},e.createElement("div",{className:"Fdo Aic"},e.createElement("div",{className:"vcx"},"de"),e.createElement(b,{value:a.Util.Filtre.min_age,name:"min_age",onChange:i}),e.createElement("div",{className:"wGH"},"a"),e.createElement(b,{value:a.Util.Filtre.max_age,name:"max_age",onChange:i}),e.createElement("div",{className:"aBv"},"ans"))),e.createElement("div",{className:"Fdo SFD Anv"},e.createElement(_,{onClick:()=>r("A"),active:a.Util.Filtre.sex_type==="A",checkbox:a.Util.Filtre.sex_type==="A"?e.createElement(f,null):e.createElement(h,null),name:"Tous"},e.createElement(M,{size:24})),e.createElement(_,{onClick:()=>r("M"),active:a.Util.Filtre.sex_type==="M",checkbox:a.Util.Filtre.sex_type==="M"?e.createElement(f,null):e.createElement(h,null),name:"Homme"},e.createElement(D,{size:24})),e.createElement(_,{onClick:()=>r("F"),active:a.Util.Filtre.sex_type==="F",checkbox:a.Util.Filtre.sex_type==="F"?e.createElement(f,null):e.createElement(h,null),name:"Femme"},e.createElement(I,{size:24})))),e.createElement("div",{className:"Fdo Aic ELG"},e.createElement("div",{className:"Fdo ELG CDp kzZ m2F"},a.Util.Filtre.min_age>a.Util.Filtre.max_age||a.Util.Filtre.min_age<18||a.Util.Filtre.max_age<18?e.createElement(L,{type:"button",variant:"_Dvgb disabled"},"Filtrer"):e.createElement(L,{type:"submit",variant:"_Dvgb"},"Filtrer"))))))))},ee=F=>{const c=y(),[o,E]=e.useState(!1),[p,a]=e.useState(!1),[u,N]=e.useState(!1),i=U(t=>t),r=i.UserFilter,[s,m]=e.useState(!1),n=()=>{var t=new FormData;if(r.length>0){var d=r.map(l=>l.user.user_id);m(!0)}else{E(!0);var d=0}t.append("url","./RESTAPI/Filtre/GetUserFilter"),t.append("max_age",i.Util.Filtre.max_age),t.append("min_age",i.Util.Filtre.min_age),t.append("sex_search",i.Util.Filtre.sex_type),t.append("idlist",d),t.append("limit",9),C("/api",t,l=>{var g,A;(l==null?void 0:l.success)===1&&(c(q((g=l==null?void 0:l.data)==null?void 0:g.users)),c(z({name:"user_search",value:(A=l==null?void 0:l.data)==null?void 0:A.has_next_page}))),m(!1),setTimeout(()=>{a(!0),setTimeout(()=>{E(!1),N(!0)},0,5)},0,5)})},v=t=>{c(W(t));var d="remove",l=new FormData;l.append("action",d),l.append("url","RESTAPI/Filtre/delete"),l.append("user_id",t),C("./api",l,g=>{c(k(g)),setTimeout(()=>{c(X())},2e3)})};return e.useEffect(()=>{r.length===0&&i.Next_Page.user_search?n():(E(!1),a(!0))},[]),e.createElement(e.Fragment,null,r.length===0&&!o&&e.createElement("div",{className:"Fdo Fdo Anv Aic"},e.createElement("div",{className:"Fdo SH1"},"Aucun resultat selon la configuration de votre filtre"),e.createElement("div",null,"Configurer le filtre a nouveau si vous voulez voir d'avantage")),o?e.createElement(j,null):e.createElement("div",{className:"people-wrapper Fdo"},r.map(t=>e.createElement("div",{className:`member-wrapper  BjN animated-alement ${p&&"animate"}`,key:t.user.user_id},e.createElement(S,{to:`/${t.user.username}`,className:"profile-card "},e.createElement("div",{className:"thumbnail"},e.createElement("img",{"data-src":t.user.avatar,alt:"",className:"photo lazyload"}),e.createElement("div",{className:"counters"},e.createElement("div",{className:"photos-counter"},e.createElement(T,{size:22}),e.createElement("div",{className:"count"},t.photo_count)))),e.createElement("div",{className:"Bare-new"},e.createElement("div",{className:""},"Nouveau")),e.createElement("div",{className:"info-content"},e.createElement("div",{className:"JGf PLP"},e.createElement(B,{type:"button",user:t.user}),e.createElement("div",{className:"LmP p1c"},e.createElement("button",{className:"Fdo sqdOP  L4fx ZIAjV Fbd BjN",onClick:d=>{d.preventDefault(),v(t.user.user_id)}},e.createElement(P,null)))),e.createElement("div",{className:"profile-info"},e.createElement("div",{className:"brief-info has-led"},e.createElement("div",{className:"user-container"},e.createElement("span",{className:"age",dangerouslySetInnerHTML:{__html:t.user.first_name}}),e.createElement("span",null,",",t.age),t.user.online?e.createElement("div",{className:"rSxHQ df2d"}):e.createElement("div",{className:"rSxHQ df2d",style:{backgroundColor:"#BABABA"}})))),e.createElement("div",{className:"about"},e.createElement("div",{className:"about-me"},e.createElement(x,{label:"Sexe",content:t.user.user_gender}),e.createElement(x,{label:"Age",content:t.age}),e.createElement(x,{label:"R\xE9lation accept\xE9",content:t.accepted_relationship})))))))),e.createElement("div",{className:"Fdo Aic Lns",style:{marginBottom:"100px"}},!o&&!s&&r.length!=0&&i.Next_Page.user_search&&e.createElement(L,{variant:"_Dvgb",onClick:n},"Voir plus"),s&&e.createElement(w,null),!o&&r.length>0&&!i.Next_Page.user_search&&e.createElement(H,{titre:"Fin de la suggestion",texte:"Configurer le filtre si vous voulez voir d'avantage"})),e.createElement(Q,null))};function x({label:F,content:c}){return e.createElement("div",{style:{lineHeight:"1.7"}},e.createElement("span",{className:"mWe"},F,": "),e.createElement("span",{className:"mWe"},c))}export{ee as default};
