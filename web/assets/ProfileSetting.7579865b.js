import{b as L,u as V,R as t,D as u,g as D}from"./vendor.7b712f9f.js";import{J as F,K as P,e as T,v as U,N as q,s as O,c as R}from"./main.da775b16.js";import{av as N,B as H,F as I}from"./GeneralCondition.59d0a2ff.js";const K=e=>{var o,v,g,w,E,h,_,f,b;const l=L(),i=V(n=>n),[d,m]=t.useState(!1),[s,r]=t.useState(!1),c=()=>{s||m(!d)},B=()=>{var C;r(!0);let n=new FormData;n.append("user_id",(C=e==null?void 0:e.user)==null?void 0:C.user_id),n.append("url","/RESTAPI/Users/settings/block"),I("/",n,x=>{var y,z,k,M,A;if(r(!1),m(!1),x.success===1){l(U({user_id:(y=e==null?void 0:e.user)==null?void 0:y.user_id,name:"blocked_by_viewer"})),l(q({user_id:(z=e==null?void 0:e.user)==null?void 0:z.user_id,name:"blocked_by_viewer"}));let S={data_type:"notifications",sub_type:"BLOCAGE",c_user:(M=(k=i==null?void 0:i.Util)==null?void 0:k.c_user)==null?void 0:M.user_id,security_token:D.get("isLogedin"),client_id:parseInt((A=e==null?void 0:e.user)==null?void 0:A.user_id)};i.Util.ws.send(JSON.stringify(S))}l(O(x)),setTimeout(()=>{l(R())},2e3)})},a=(o=e==null?void 0:e.user)!=null&&o.blocked_by_viewer?"d\xE9bloquer":"bloquer";return t.createElement(u,null,t.createElement(u.Toggle,{as:F,id:"dropdown-custom-components"},t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},t.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}))),t.createElement(u.Menu,{as:P},e.user.blocked_by_viewer?t.createElement(N,{name:a,onClick:c},t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"#000000"},t.createElement("g",null,t.createElement("path",{d:"M 16,0C 7.164,0,0,7.164,0,16s 7.164,16, 16,16s 16-7.164, 16-16S 24.836,0, 16,0z M 16,4c 6.616,0, 12,5.384, 12,12 c0,2.588-0.832,4.98-2.23,6.942L 9.058,6.23C 11.020,4.832, 13.412,4, 16,4z M 4,16c0-2.588, 0.832-4.98, 2.23-6.942l 16.712,16.712l0,0 C 20.978,27.168, 18.588,28, 16,28C 9.384,28, 4,22.616, 4,16z"})))):t.createElement(N,{name:a,onClick:c},t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"#000000"},t.createElement("g",null,t.createElement("path",{d:"M 16,0C 7.164,0,0,7.164,0,16s 7.164,16, 16,16s 16-7.164, 16-16S 24.836,0, 16,0z M 16,4c 6.616,0, 12,5.384, 12,12 c0,2.588-0.832,4.98-2.23,6.942L 9.058,6.23C 11.020,4.832, 13.412,4, 16,4z M 4,16c0-2.588, 0.832-4.98, 2.23-6.942l 16.712,16.712l0,0 C 20.978,27.168, 18.588,28, 16,28C 9.384,28, 4,22.616, 4,16z"}))))),t.createElement(T,{show:d,onHide:()=>c(),size:"sm",titre:`${a} cet utilisateur`},t.createElement("div",{className:"Fdo Anv RpE"},t.createElement("div",{className:"Fdo Anv Aic v2ao"},t.createElement("div",{className:"_2dbep Xs-User-Avatar"},t.createElement("img",{src:(g=(v=e==null?void 0:e.user)==null?void 0:v.avatar)!=null&&g.x56?(E=(w=e==null?void 0:e.user)==null?void 0:w.avatar)==null?void 0:E.x56:(h=e==null?void 0:e.user)==null?void 0:h.avatar,className:"hty ELG hrt lazyload"})),t.createElement("div",{className:"e2ler"},(_=e==null?void 0:e.user)==null?void 0:_.first_name),t.createElement("span",{className:"Vpe"},"Vous \xEAtes sur le point de ",a," ",t.createElement("span",{dangerouslySetInnerHTML:{__html:(f=e==null?void 0:e.user)==null?void 0:f.first_name}})),(b=e==null?void 0:e.user)!=null&&b.blocked_by_viewer?t.createElement("div",{className:"sqdOP "},"Vous ne pourriez plus voir son profil,ni ses publications ou photos. Vous ne pourriez plus envoyer, ni recevoir de l'argent ou des cadeaux de la part de cette personne"):t.createElement("div",{className:"sqdOP "},"Vous pourriez de nouveau  voir son profil,ses publications ou photos. Vous pourriez de nouveau  envoyer ou recevoir de l'argent ou des cadeaux a cette personne")),t.createElement("div",{className:"Fdo Kmm Vnk"},t.createElement(H,{variant:"_Dvgb",isLoading:s,disabled:s,onClick:B},a)))))};export{K as P};
